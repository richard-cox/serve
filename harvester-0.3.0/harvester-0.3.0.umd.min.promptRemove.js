(("undefined"!==typeof self?self:this)["webpackJsonpharvester_0_3_0"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_0_3_0"]||[]).push([[10],{"0c27":function(e,t,r){"use strict";r.r(t);var c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mt-10"},[e._v(" "+e._s(e.t("promptRemove.attemptingToRemove",{type:e.type}))+" "),r("span",{domProps:{innerHTML:e._s(e.resourceNames)}}),r("div",{staticClass:"mt-10"},[e._v(" "+e._s(e.t("harvester.virtualMachine.promptRemove.title"))+" ")]),1===e.value.length?r("div",e._l(e.removeNameArr[e.value[0].id],(function(t){return r("span",{key:t},[r("label",{staticClass:"checkbox-container mr-15"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedList,expression:"checkedList"}],attrs:{type:"checkbox",label:t},domProps:{value:t,checked:Array.isArray(e.checkedList)?e._i(e.checkedList,t)>-1:e.checkedList},on:{change:function(r){var c=e.checkedList,n=r.target,a=!!n.checked;if(Array.isArray(c)){var o=t,i=e._i(c,o);n.checked?i<0&&(e.checkedList=c.concat([o])):i>-1&&(e.checkedList=c.slice(0,i).concat(c.slice(i+1)))}else e.checkedList=a}}}),r("span",{staticClass:"checkbox-custom mr-5",attrs:{role:"checkbox"}}),e._v(" "+e._s(t)+" ")])])})),0):r("div",[r("label",{staticClass:"checkbox-container mr-15"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkAll,expression:"checkAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checkAll)?e._i(e.checkAll,null)>-1:e.checkAll},on:{change:function(t){var r=e.checkAll,c=t.target,n=!!c.checked;if(Array.isArray(r)){var a=null,o=e._i(r,a);c.checked?o<0&&(e.checkAll=r.concat([a])):o>-1&&(e.checkAll=r.slice(0,o).concat(r.slice(o+1)))}else e.checkAll=n}}}),r("span",{staticClass:"checkbox-custom mr-5",attrs:{role:"checkbox"}}),e._v(" "+e._s(e.t("harvester.virtualMachine.promptRemove.deleteAll"))+" ")])])])},n=[],a=r("9ce4"),o=r("56a4"),i=r("1832"),s=r("d356"),l=r.n(s);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m={name:"HarvesterPromptRemove",props:{value:{type:Array,default:function(){return[]}},names:{type:Array,default:function(){return[]}},type:{type:String,required:!0}},data:function(){return{checkedList:[],checkAll:!0}},computed:h(h(h({},Object(a["b"])("action-menu",["toRemove"])),Object(a["a"])({t:"i18n/t"})),{},{removeNameArr:function(){var e={};return this.value.forEach((function(t){var r;if(t.type===o["h"].VM){var c=(null===(r=t.spec.template.spec)||void 0===r?void 0:r.volumes)||[],n=c.filter((function(e){return e.persistentVolumeClaim})).map((function(e){if(e.persistentVolumeClaim)return e.name}));e[t.id]=n}})),e},plusMore:function(){var e=this.toRemove.length-this.names.length;return this.t("promptRemove.andOthers",{count:e})},resourceNames:function(){var e=this;return this.names.reduce((function(t,r,c){return c>=5||(t+="<b>".concat(r,"</b>"),c===e.names.length-1?t+=e.plusMore:t+=c===e.toRemove.length-2?" and ":", "),t}),"")}}),watch:{removeNameArr:{handler:function(e){if(1===this.value.length){var t=Object.values(e[this.value[0].id]);this.checkedList.unshift(t[0])}},deep:!0,immediate:!0}},methods:{remove:function(){var e,t=this,r=this.$parent.$parent.$parent;r.doneLocation&&(e=h({},r.doneLocation)),Promise.all(this.value.map((function(e){if(e.type===o["h"].VM){var r="";t.value.length>1?t.checkAll&&t.removeNameArr[e.id].forEach((function(e){r+="removedDisks=".concat(e,"&")})):(t.checkedList.forEach((function(e){r+="removedDisks=".concat(e,"&")})),r.replace(/&$/,""));var c=l()(e.links.self);e.remove({url:"".concat(c.pathname,"?").concat(r,"propagationPolicy=Foreground")})}else e.remove()}))).then((function(t){e&&!Object(i["h"])(e)&&r.currentRouter.push(e),r.close()})).catch((function(e){r.error=e}))}}},v=m,d=r("d802"),f=Object(d["a"])(v,c,n,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=harvester-0.3.0.umd.min.promptRemove.js.map