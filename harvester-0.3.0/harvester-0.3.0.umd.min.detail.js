(("undefined"!==typeof self?self:this)["webpackJsonpharvester_0_3_0"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_0_3_0"]||[]).push([[4],{"04ae":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-2bd7f102]:after,.clearfix[data-v-2bd7f102]:before{content:" ";display:table}.clearfix[data-v-2bd7f102]:after{clear:both}.list-unstyled[data-v-2bd7f102]{margin:0;padding:0;list-style-type:none}.no-select[data-v-2bd7f102]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-2bd7f102]{resize:none}.hand[data-v-2bd7f102]{cursor:pointer;cursor:hand}.fixed[data-v-2bd7f102]{table-layout:fixed}.clip[data-v-2bd7f102]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-2bd7f102],.force-wrap[data-v-2bd7f102]{word-wrap:break-word}.force-wrap[data-v-2bd7f102]{white-space:normal}.bordered-section[data-v-2bd7f102]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-2bd7f102]{margin-bottom:20px;margin-top:20px}.error[data-v-2bd7f102]{color:var(--error)}',""]),e.exports=t},"0c3a":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-f9b16dbc]:after,.clearfix[data-v-f9b16dbc]:before{content:" ";display:table}.clearfix[data-v-f9b16dbc]:after{clear:both}.list-unstyled[data-v-f9b16dbc]{margin:0;padding:0;list-style-type:none}.no-select[data-v-f9b16dbc]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-f9b16dbc]{resize:none}.hand[data-v-f9b16dbc]{cursor:pointer;cursor:hand}.fixed[data-v-f9b16dbc]{table-layout:fixed}.clip[data-v-f9b16dbc]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-f9b16dbc],.force-wrap[data-v-f9b16dbc]{word-wrap:break-word}.force-wrap[data-v-f9b16dbc]{white-space:normal}.bordered-section[data-v-f9b16dbc]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-f9b16dbc]{margin-bottom:20px;margin-top:20px}.role[data-v-f9b16dbc]{display:flex}',""]),e.exports=t},1305:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading"):a("CruResource",{attrs:{"done-route":e.doneRoute,resource:e.value,mode:e.mode,"apply-hooks":e.applyHooks}},[e.spec?a("Tabbed",{attrs:{"side-tabs":!0},on:{changed:e.onTabChanged}},[a("Tab",{attrs:{name:"Basics",label:e.t("harvester.virtualMachine.detail.tabs.basics")}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.name"),value:e.name}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.fields.image"),value:e.imageName}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.hostname"),value:e.hostname}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.input.MachineType"),value:e.machineType}})],1)]),a("CpuMemory",{attrs:{cpu:e.cpu,mode:e.mode,memory:e.memory}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.bootOrder")},scopedSlots:e._u([{key:"value",fn:function(){return[a("div",[a("ul",e._l(e.disks,(function(t){return a("li",{key:t.bootOrder},[e._v(" "+e._s(t.bootOrder)+". "+e._s(t.name)+" ("+e._s(e.getDeviceType(t))+") ")])})),0)])]},proxy:!0}],null,!1,1805671940)})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.CDROMs")},scopedSlots:e._u([{key:"value",fn:function(){return[a("div",[e.cdroms.length>0?a("ul",e._l(e.cdroms,(function(t){return a("li",{key:t.name},[e._v(" "+e._s(t.name)+" ")])})),0):a("span",[e._v(" "+e._s(e.t("harvester.virtualMachine.detail.notAvailable"))+" ")])])]},proxy:!0}],null,!1,988662186)})],1)])],1),a("Tab",{attrs:{name:"volume",label:e.t("harvester.tab.volume"),weight:-1}},[a("Volume",{attrs:{mode:e.mode},model:{value:e.diskRows,callback:function(t){e.diskRows=t},expression:"diskRows"}})],1),a("Tab",{attrs:{name:"network",label:e.t("harvester.tab.network"),weight:-2}},[a("Network",{attrs:{mode:e.mode},model:{value:e.networkRows,callback:function(t){e.networkRows=t},expression:"networkRows"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"keypairs",label:e.t("harvester.virtualMachine.detail.tabs.keypairs"),weight:-3}},[e.vm?a("OverviewKeypairs",{model:{value:e.vm,callback:function(t){e.vm=t},expression:"vm"}}):e._e()],1),a("Tab",{attrs:{name:"advanced",label:e.t("harvester.tab.advanced"),weight:-4}},[a("CloudConfig",{ref:"yamlEditor",attrs:{"user-script":e.userScript,mode:e.mode,"network-script":e.networkScript}}),a("div",{staticClass:"spacer"}),a("Checkbox",{staticClass:"check",attrs:{mode:e.mode,type:"checkbox",label:e.t("harvester.virtualMachine.enableUsb")},model:{value:e.installUSBTablet,callback:function(t){e.installUSBTablet=t},expression:"installUSBTablet"}})],1)],1):e._e()],1)},s=[],n=a("56d4"),i=a.n(n),o=a("ad61"),l=a("5ef9"),c=a("70a6"),d=a("2e2b"),u=a("efb2"),v=a("eb32"),p=a("6834"),m=a("b837"),f=a("c78c"),b=a("56a4"),h=a("1881"),w=a("f3f4"),y=a("89d4"),g=a("5d46"),k=a("7cac");function O(e,t,a,r,s,n,i){try{var o=e[n](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,s)}function C(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var n=e.apply(t,a);function i(e){O(n,r,s,i,o,"next",e)}function o(e){O(n,r,s,i,o,"throw",e)}i(void 0)}))}}var x="n/a",_={name:"BackupDetail",components:{Volume:y["a"],Network:g["a"],CruResource:d["a"],Tabbed:o["a"],Loading:c["a"],LabelValue:v["a"],Tab:l["a"],CloudConfig:k["a"],Checkbox:u["a"],CpuMemory:h["a"],OverviewKeypairs:w["a"]},mixins:[f["a"],p["c"]],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},fetch:function(){var e=this;return C(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["a"])({allImages:e.$store.dispatch("harvester/findAll",{type:b["h"].IMAGE})});case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{vm:null}},computed:{name:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name)||x},hostname:function(){var e,t,a;return null===this||void 0===this||null===(e=this.spec)||void 0===e||null===(t=e.template)||void 0===t||null===(a=t.spec)||void 0===a?void 0:a.hostname},imageName:function(){var e,t=this,a=this.$store.getters["harvester/all"](b["h"].IMAGE)||[],r=a.find((function(e){return t.imageId===e.id}));return(null===r||void 0===r||null===(e=r.spec)||void 0===e?void 0:e.displayName)||"-"},disks:function(){var e,t,a,r,s,n=(null===this||void 0===this||null===(e=this.spec)||void 0===e||null===(t=e.template)||void 0===t||null===(a=t.spec)||void 0===a||null===(r=a.domain)||void 0===r||null===(s=r.devices)||void 0===s?void 0:s.disks)||[];return n.filter((function(e){return!!e.bootOrder})).sort((function(e,t){return e.bootOrder<t.bootOrder?-1:1}))},cdroms:function(){var e,t,a,r,s,n=(null===this||void 0===this||null===(e=this.spec)||void 0===e||null===(t=e.template)||void 0===t||null===(a=t.spec)||void 0===a||null===(r=a.domain)||void 0===r||null===(s=r.devices)||void 0===s?void 0:s.disks)||[];return n.filter((function(e){return!!e.cdrom}))}},methods:{getDeviceType:function(e){return e.disk?"Disk":"CD-ROM"},isEmpty:function(e){return void 0!==e&&0===Object.keys(e).length},onTabChanged:function(e){var t,a=e.tab;"advanced"===a.name&&(null===(t=this.$refs.yamlEditor)||void 0===t||t.refresh())}}},S=_,M=a("d802"),j=Object(M["a"])(S,r,s,!1,null,null,null);t["default"]=j.exports},2456:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-1c8bb22a]:after,.clearfix[data-v-1c8bb22a]:before{content:" ";display:table}.clearfix[data-v-1c8bb22a]:after{clear:both}.list-unstyled[data-v-1c8bb22a]{margin:0;padding:0;list-style-type:none}.no-select[data-v-1c8bb22a]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-1c8bb22a]{resize:none}.hand[data-v-1c8bb22a]{cursor:pointer;cursor:hand}.fixed[data-v-1c8bb22a]{table-layout:fixed}.clip[data-v-1c8bb22a]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-1c8bb22a],.force-wrap[data-v-1c8bb22a]{word-wrap:break-word}.force-wrap[data-v-1c8bb22a]{white-space:normal}.bordered-section[data-v-1c8bb22a]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-1c8bb22a]{margin-bottom:20px;margin-top:20px}#host-instances[data-v-1c8bb22a]  thead th{vertical-align:middle}#host-instances[data-v-1c8bb22a]  .state{display:flex}#host-instances[data-v-1c8bb22a]  .state .vmstate{margin-right:6px}',""]),e.exports=t},"24c4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tabbed",e._b({staticClass:"mt-15",attrs:{"side-tabs":!0}},"Tabbed",e.$attrs,!1),[a("Tab",{staticClass:"bordered-table",attrs:{name:"basics",label:e.t("harvester.host.tabs.basics"),weight:4}},[a("Basic",{attrs:{metrics:e.metrics,mode:e.mode,"host-network-resource":e.hostNetworkResource},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"instance",label:e.t("harvester.host.tabs.instance"),weight:3}},[a("Instance",{attrs:{node:e.value}})],1),e.hasHostNetworksSchema?a("Tab",{staticClass:"bordered-table",attrs:{name:"network",label:e.t("harvester.host.tabs.network"),weight:2}},[a("ArrayListGrouped",{attrs:{mode:e.mode,"can-remove":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Network",{attrs:{value:t.row.value,mode:e.mode}})]}}],null,!1,2537098689),model:{value:e.networkLinks,callback:function(t){e.networkLinks=t},expression:"networkLinks"}})],1):e._e(),e.hasBlockDevicesSchema?a("Tab",{attrs:{name:"disk",weight:1,label:e.t("harvester.host.tabs.disk")}},[a("ArrayListGrouped",{attrs:{mode:e.mode,"can-remove":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Disk",{staticClass:"mb-20",attrs:{mode:e.mode,disks:e.disks},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"props.row.value"}})]}}],null,!1,2516310713),model:{value:e.newDisks,callback:function(t){e.newDisks=t},expression:"newDisks"}})],1):e._e()],1)],1)},s=[],n=a("56d4"),i=a.n(n),o=a("ad61"),l=a("5ef9"),c=a("500e"),d=a("56a4"),u=a("b837"),v=a("67ab"),p=a("d003"),m=a("e411"),f=a("1832"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"host-detail"},[a("h3",[e._v(e._s(e.t("harvester.host.tabs.overview")))]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.customName"),value:e.customName}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.hostIP"),value:e.value.internalIp}})],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.os"),value:e.value.status.nodeInfo.osImage}})],1),a("div",{staticClass:"col span-6"},[a("div",{staticClass:"role"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.role")},scopedSlots:e._u([{key:"value",fn:function(){return[e._v(" "+e._s(e.nodeType)+" "),a("span",{staticClass:"text-warning ml-20"},[e._v(" "+e._s(e.t("harvester.host.promote."+e.nodeRoleState))+" ")])]},proxy:!0}])})],1)])]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.create"),value:e.value.metadata.creationTimestamp}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.update"),value:e.lastUpdateTime}})],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.consoleUrl"),value:e.consoleUrl.value}},[a("a",{attrs:{slot:"value",href:e.consoleUrl.value,target:"_blank"},slot:"value"},[e._v(e._s(e.consoleUrl.display))])])],1)]),e.hasHostNetworksSchema?a("div",[a("hr",{staticClass:"divider"}),a("h3",[e._v(e._s(e.t("harvester.host.detail.title.network")))]),e.networkMessage?a("Banner",{attrs:{color:"error"}},[e._v(" "+e._s(e.networkMessage)+" ")]):e._e(),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.networkType"),value:e.networkType}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.nic"),value:e.nic}})],1)])],1):e._e(),e.hasMetricNodeSchema?a("div",[a("hr",{staticClass:"divider"}),a("h3",[e._v(e._s(e.t("harvester.host.tabs.monitor")))]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-4"},[a("HarvesterCPUUsed",{attrs:{row:e.value,"resource-name":e.t("node.detail.glance.consumptionGauge.cpu"),"show-used":!0}})],1),a("div",{staticClass:"col span-4"},[a("HarvesterMemoryUsed",{attrs:{row:e.value,"resource-name":e.t("node.detail.glance.consumptionGauge.memory"),"show-used":!0}})],1),a("div",{staticClass:"col span-4"},[a("HarvesterStorageUsed",{attrs:{row:e.value,"resource-name":e.t("harvester.host.detail.storage"),"show-reserved":!0}})],1)])]):e._e(),a("hr",{staticClass:"section-divider"}),a("h3",[e._v(e._s(e.t("harvester.host.detail.more")))]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.uuid"),value:e.value.status.nodeInfo.systemUUID}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.kernel"),value:e.value.status.nodeInfo.kernelVersion}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("harvester.host.detail.containerRuntime"),value:e.value.status.nodeInfo.containerRuntimeVersion}})],1)])])},h=[],w=a("eb32"),y=a("dffb"),g=a("b0bd"),k=a("1abd"),O=a("3ae3"),C=a("1462"),x="complete",_="none",S="promoteRestart",M="promoteSucceed",j={name:"BasicNode",components:{LabelValue:w["a"],Banner:y["a"],HarvesterCPUUsed:k["default"],HarvesterMemoryUsed:O["default"],HarvesterStorageUsed:C["default"]},props:{value:{type:Object,required:!0},metrics:{type:Object,required:!1,default:function(){return null}},mode:{type:String,required:!1,default:"view"},hostNetworkResource:{type:Object,required:!1,default:function(){return null}}},computed:{customName:function(){var e,t;return null===(e=this.value.metadata)||void 0===e||null===(t=e.annotations)||void 0===t?void 0:t[g["f"].HOST_CUSTOM_NAME]},consoleUrl:function(){var e,t,a=null===(e=this.value.metadata)||void 0===e||null===(t=e.annotations)||void 0===t?void 0:t[g["f"].HOST_CONSOLE_URL],r=a;return a?(a.startsWith("http://")||a.startsWith("https://")||(r="http://".concat(a)),{display:a,value:r}):""},cpuTotal:function(){var e=0;return this.metrics&&(e=this.metrics.cpuCapacity),e},cpuUsage:function(){var e=0;return this.metrics&&(e=this.metrics.cpuUsage),e},memoryTotal:function(){var e=0;return this.metrics&&(e=this.metrics.memoryCapacity),e},memoryUsage:function(){var e=0;return this.metrics&&(e=this.metrics.memoryUsage),e},storageUsage:function(){var e,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/byId")](d["m"].NODES,"longhorn-system/".concat(this.value.id)),r=0,s=(null===a||void 0===a||null===(e=a.status)||void 0===e?void 0:e.diskStatus)||{};return Object.values(s).map((function(e){null!==e&&void 0!==e&&e.storageAvailable&&null!==e&&void 0!==e&&e.storageMaximum&&(r+=e.storageMaximum-e.storageAvailable)})),r},storageTotal:function(){var e,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/byId")](d["m"].NODES,"longhorn-system/".concat(this.value.id)),r=0,s=(null===a||void 0===a||null===(e=a.status)||void 0===e?void 0:e.diskStatus)||{};return Object.values(s).map((function(e){null!==e&&void 0!==e&&e.storageMaximum&&(r+=e.storageMaximum)})),r},cpuUnits:function(){return"C"},memoryUnits:function(){var e=Object(v["d"])(this.memoryTotal,1024);return"".concat(v["b"][e],"iB")},storageUnits:function(){var e=Object(v["d"])(this.storageTotal,1024);return"".concat(v["b"][e],"iB")},nodeType:function(){return this.value.isMaster?this.t("harvester.host.detail.management"):this.t("harvester.host.detail.compute")},lastUpdateTime:function(){var e,t,a;return null===(e=this.value.status)||void 0===e||null===(t=e.conditions)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.lastHeartbeatTime},nodeRoleState:function(){var e,t,a,r,s,n,i=void 0!==(null===(e=this.value.metadata)||void 0===e||null===(t=e.labels)||void 0===t?void 0:t[g["f"].NODE_ROLE_MASTER])||void 0!==(null===(a=this.value.metadata)||void 0===a||null===(r=a.labels)||void 0===r?void 0:r[g["f"].NODE_ROLE_CONTROL_PLANE]),o=(null===(s=this.value.metadata)||void 0===s||null===(n=s.annotations)||void 0===n?void 0:n[g["f"].PROMOTE_STATUS])||_;return i||o!==x?i&&o===x?M:o:S},networkType:function(){var e,t;return(null===(e=this.hostNetworkResource)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.type)||"-"},nic:function(){var e,t;return(null===(e=this.hostNetworkResource)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.nic)||"-"},networkMessage:function(){var e;return null===(e=this.hostNetworkResource)||void 0===e?void 0:e.message},hasMetricNodeSchema:function(){var e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters["".concat(e,"/schemaFor")](d["o"].NODE)},hasHostNetworksSchema:function(){var e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters["".concat(e,"/schemaFor")](d["h"].NODE_NETWORK)}},methods:{memoryFormatter:function(e){var t=Object(v["d"])(this.memoryTotal,1024),a={addSuffix:!1,increment:1024,minExponent:t};return Object(v["e"])(e,a)}}},N=j,T=(a("4ca7"),a("d802")),D=Object(T["a"])(N,b,h,!1,null,"f9b16dbc",null),E=D.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading"):a("div",{staticClass:"row",attrs:{id:"host-instances"}},[a("div",{staticClass:"col span-12"},[a("SortableTable",e._g(e._b({attrs:{headers:e.headers,"default-sort-by":"age",rows:e.rows,"key-field":"_key"},scopedSlots:e._u([{key:"cell:state",fn:function(t){return[a("div",{staticClass:"state"},[a("HarvesterVmState",{staticClass:"vmstate",attrs:{row:t.row,"all-node-network":e.allNodeNetwork,"all-cluster-network":e.allClusterNetwork}})],1)]}}])},"SortableTable",e.$attrs,!1),e.$listeners))],1)])},V=[],L=a("d6d1"),$=a("fc28"),R=a("70a6"),A=a("c827");function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){U(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function H(e,t,a,r,s,n,i){try{var o=e[n](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,s)}function B(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var n=e.apply(t,a);function i(e){H(n,r,s,i,o,"next",e)}function o(e){H(n,r,s,i,o,"throw",e)}i(void 0)}))}}var z={name:"InstanceNode",components:{SortableTable:$["b"],Loading:R["a"],HarvesterVmState:A["default"]},props:{node:{type:Object,required:!0}},fetch:function(){var e=this;return B(i.a.mark((function t(){var a,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["a"])({vms:e.$store.dispatch("harvester/findAll",{type:d["h"].VM}),vmis:e.$store.dispatch("harvester/findAll",{type:d["h"].VMI}),allNodeNetwork:e.$store.dispatch("harvester/findAll",{type:d["h"].NODE_NETWORK}),allClusterNetwork:e.$store.dispatch("harvester/findAll",{type:d["h"].CLUSTER_NETWORK})});case 2:a=t.sent,r={},(a.vmis||[]).forEach((function(e){var t,a,s,n=null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(a=t.ownerReferences)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.uid;n&&(r[n]=e)})),e.allNodeNetwork=a.allNodeNetwork,e.allClusterNetwork=a.allClusterNetwork,e.rows=a.vms.filter((function(t){var a,s,n,i,o,l;return(null===(a=r[null===(n=t.metadata)||void 0===n?void 0:n.uid])||void 0===a||null===(s=a.status)||void 0===s?void 0:s.nodeName)===(null===(i=e.node)||void 0===i||null===(o=i.metadata)||void 0===o||null===(l=o.labels)||void 0===l?void 0:l[g["g"]])}));case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{rows:[],allNodeNetwork:[],allClusterNetwork:[]}},computed:{headers:function(){return[L["B"],L["n"],{name:"vmCPU",labelKey:"tableHeaders.cpu",sort:"vmCPU",search:!1,value:"spec.template.spec.domain.cpu.cores",width:120},{name:"vmRAM",labelKey:"glance.memory",sort:"vmRAM",search:!1,value:"spec.template.spec.domain.resources.limits.memory",width:120},{name:"ip",label:"IP Address",labelKey:"harvester.tableHeaders.vm.ipAddress",value:"id",formatter:"HarvesterIpAddress"},K(K({},L["b"]),{},{sort:"metadata.creationTimestamp:desc"})]}},methods:{}},q=z,F=(a("86fe"),Object(T["a"])(q,P,V,!1,null,"1c8bb22a",null)),G=F.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"disk",on:{input:e.update}},[a("div",{staticClass:"mt-30"}),e.mountedMessage?a("Banner",{attrs:{color:"error",label:e.mountedMessage}}):e._e(),e.value.isNew?e._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("div",{staticClass:"pull-right"},[e._v(" Conditions: "),a("BadgeState",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.readyCondiction.message,expression:"readyCondiction.message"}],staticClass:"mr-10 ml-10 state",attrs:{color:"True"===e.readyCondiction.status?"bg-success":"bg-error",icon:"True"===e.readyCondiction.status?"icon-checkmark":"icon-warning",label:"Ready"}}),a("BadgeState",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.schedulableCondiction.message,expression:"schedulableCondiction.message"}],staticClass:"mr-10 state",attrs:{color:"True"===e.schedulableCondiction.status?"bg-success":"bg-error",icon:"True"===e.schedulableCondiction.status?"icon-checkmark":"icon-warning",label:"Schedulable"}}),e.provisionPhase.label?a("BadgeState",{staticClass:"mr-10 state",attrs:{color:e.provisionPhase.color,icon:e.provisionPhase.icon,label:e.provisionPhase.label}}):e._e()],1)])]),e.value.isNew?e._e():a("div",{staticClass:"row mt-30"},[a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:"Storage Available",value:e.value.storageAvailable}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:"Storage Scheduled",value:e.value.storageScheduled}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:"Storage Max",value:e.value.storageMaximum}})],1)]),a("hr",{staticClass:"mt-10"})]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("generic.name"),value:e.value.displayName}})],1),a("div",{staticClass:"col span-4"},[a("LabelValue",{attrs:{name:e.t("harvester.host.disk.path.label"),value:e.value.path}})],1)])],1)},J=[],Y=a("57ab"),Q={components:{LabelValue:w["a"],BadgeState:Y["a"],Banner:y["a"]},props:{value:{type:Object,default:function(){return{}}},disks:{type:Array,default:function(){return[]}},mode:{type:String,default:"edit"}},data:function(){return{}},computed:{allowSchedulingOptions:function(){return[{label:this.t("generic.enabled"),value:!0},{label:this.t("generic.disabled"),value:!1}]},evictionRequestedOptions:function(){return[{label:this.t("generic.yes"),value:!0},{label:this.t("generic.no"),value:!1}]},readyCondiction:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.Ready)||{}},schedulableCondiction:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.Schedulable)||{}},provisionPhase:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.blockDevice)||void 0===t?void 0:t.provisionPhase)||{}},mountedMessage:function(){var e,t,a,r=(null===(e=this.value)||void 0===e||null===(t=e.blockDevice)||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.state)||{};return null!==r&&void 0!==r&&r.error?null===r||void 0===r?void 0:r.message:""}},methods:{update:function(){this.$emit("input",this.value)},canEditPath:function(e){return!!this.mountedMessage||!(!e.isNew||!e.originPath)}}},X=Q,Z=(a("f3b5"),Object(T["a"])(X,W,J,!1,null,"308e9796",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("generic.name"),value:e.value.name}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("tableHeaders.state"),value:e.value.state}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("tableHeaders.type"),value:e.value.type}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.fields.macAddress"),value:e.value.mac}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-6"},[a("InputOrDisplay",{attrs:{name:e.t("harvester.fields.ipv4Address"),value:e.value.ipv4Address,mode:e.mode},scopedSlots:e._u([{key:"value",fn:function(){return[a("ul",e._l(e.value.ipv4Address,(function(t){return a("li",{key:t},[e._v(" "+e._s(t)+" ")])})),0)]},proxy:!0}])})],1),"true"===e.value.promiscuous?a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.fields.promiscuous"),value:e.value.promiscuous},scopedSlots:e._u([{key:"value",fn:function(){return[e._v(" "+e._s("true"===e.value.promiscuous?e.t("generic.yes"):e.t("generic.no"))+" ")]},proxy:!0}],null,!1,1777622139)})],1):e._e()])])},ae=[],re=a("2aaa"),se=a("d6a6"),ne={name:"HarvesterHostNetwork",components:{LabelValue:w["a"],InputOrDisplay:re["a"]},props:{value:{type:Object,required:!0},mode:{type:String,default:se["g"]}}},ie=ne,oe=Object(T["a"])(ie,te,ae,!1,null,null,null),le=oe.exports;function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){ue(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ue(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ve(e){return be(e)||fe(e)||me(e)||pe()}function pe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function me(e,t){if(e){if("string"===typeof e)return he(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?he(e,t):void 0}}function fe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function be(e){if(Array.isArray(e))return he(e)}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function we(e,t,a,r,s,n,i){try{var o=e[n](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,s)}function ye(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var n=e.apply(t,a);function i(e){we(n,r,s,i,o,"next",e)}function o(e){we(n,r,s,i,o,"throw",e)}i(void 0)}))}}var ge={name:"DetailHost",components:{Tabbed:o["a"],Tab:l["a"],Basic:E,Instance:G,ArrayListGrouped:p["a"],Disk:ee,Network:le},mixins:[c["a"]],props:{value:{type:Object,required:!0}},fetch:function(){var e=this;return ye(i.a.mark((function t(){var a,r,s,n,o,l,c;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.getters["currentProduct"].inStore,r={nodes:e.$store.dispatch("harvester/findAll",{type:d["t"]}),pods:e.$store.dispatch("".concat(a,"/findAll"),{type:d["v"]})},e.$store.getters["harvester/schemaFor"](d["h"].NODE_NETWORK)&&(r.hostNetworks=e.$store.dispatch("harvester/findAll",{type:d["h"].NODE_NETWORK})),e.$store.getters["harvester/schemaFor"](d["h"].BLOCK_DEVICE)&&(r.blockDevices=e.$store.dispatch("harvester/findAll",{type:d["h"].BLOCK_DEVICE})),e.$store.getters["harvester/schemaFor"](d["m"].NODES)&&(r.longhornNodes=e.$store.dispatch("harvester/findAll",{type:d["m"].NODES})),t.next=7,Object(u["a"])(r);case 7:s=t.sent,n=(s.hostNetworks||[]).find((function(t){return e.value.id===t.attachNodeName})),e.loadMetrics(),n&&(e.hostNetworkResource=n),o=e.$store.getters["".concat(a,"/all")](d["h"].BLOCK_DEVICE),l=o.filter((function(t){var a,r,s,n=null===t||void 0===t||null===(a=t.spec)||void 0===a||null===(r=a.fileSystem)||void 0===r?void 0:r.provisioned,i=(null===t||void 0===t||null===(s=t.spec)||void 0===s?void 0:s.nodeName)===e.value.id,o=Object(m["e"])(e.longhornDisks,"name",t.metadata.name);return n&&i&&!o})).map((function(e){var t,a,r,s,n,i,o;return{isNew:!0,name:null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name,originPath:null===e||void 0===e||null===(a=e.spec)||void 0===a||null===(r=a.fileSystem)||void 0===r?void 0:r.mountPoint,path:null===e||void 0===e||null===(s=e.spec)||void 0===s||null===(n=s.fileSystem)||void 0===n?void 0:n.mountPoint,blockDevice:e,displayName:null===e||void 0===e?void 0:e.displayName,forceFormatted:(null===e||void 0===e||null===(i=e.spec)||void 0===i||null===(o=i.fileSystem)||void 0===o?void 0:o.forceFormatted)||!1}})),c=[].concat(ve(e.longhornDisks),ve(l)),e.disks=c,e.newDisks=Object(f["e"])(c);case 16:case"end":return t.stop()}}),t)})))()},data:function(){return{metrics:null,mode:"view",hostNetworkResource:null,newDisks:[],disks:[]}},computed:{longhornDisks:function(){var e,t,a=this,r=this.$store.getters["currentProduct"].inStore,s=this.$store.getters["".concat(r,"/byId")](d["m"].NODES,"longhorn-system/".concat(this.value.id)),n=(null===s||void 0===s||null===(e=s.status)||void 0===e?void 0:e.diskStatus)||{},i=(null===s||void 0===s||null===(t=s.spec)||void 0===t?void 0:t.disks)||{},o={increment:1024,minExponent:3,maxExponent:3,maxPrecision:2,suffix:"iB"},l=Object.keys(n).map((function(e){var t,s,l,c,u,p,m=a.$store.getters["".concat(r,"/byId")](d["h"].BLOCK_DEVICE,"longhorn-system/".concat(e));return de(de(de({},n[e]),null===i||void 0===i?void 0:i[e]),{},{name:e,isNew:!1,storageReserved:Object(v["e"])(null===(t=i[e])||void 0===t?void 0:t.storageReserved,o),storageAvailable:Object(v["e"])(null===(s=n[e])||void 0===s?void 0:s.storageAvailable,o),storageMaximum:Object(v["e"])(null===(l=n[e])||void 0===l?void 0:l.storageMaximum,o),storageScheduled:Object(v["e"])(null===(c=n[e])||void 0===c?void 0:c.storageScheduled,o),blockDevice:m,displayName:(null===m||void 0===m?void 0:m.displayName)||e,forceFormatted:(null===m||void 0===m||null===(u=m.spec)||void 0===u||null===(p=u.fileSystem)||void 0===p?void 0:p.forceFormatted)||!1})}));return l},network:function(){var e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters["".concat(e,"/all")](d["h"].NODE_NETWORK);return Object(m["e"])(t,"spec.nodeName",this.value.id)||{}},networkLinks:function(){var e,t,a=(null===(e=this.network)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.networkLinkStatus)||{},r=Object.keys(a).map((function(e){var t=a[e]||{};return de(de({},t),{},{name:e,promiscuous:t.promiscuous?"true":"false"})}));return r},hasBlockDevicesSchema:function(){return!!this.$store.getters["harvester/schemaFor"](d["h"].BLOCK_DEVICE)},hasHostNetworksSchema:function(){return!!this.$store.getters["harvester/schemaFor"](d["h"].NODE_NETWORK)}},methods:{loadMetrics:function(){var e=this;return ye(i.a.mark((function t(){var a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$store.getters["harvester/schemaFor"](d["o"].NODE),!a){t.next=6;break}return t.next=4,e.$store.dispatch("harvester/find",{type:d["o"].NODE,id:e.value.id,opt:{force:!0,watch:!1}});case 4:e.metrics=t.sent,e.$forceUpdate();case 6:case"end":return t.stop()}}),t)})))()}}},ke=ge,Oe=Object(T["a"])(ke,r,s,!1,null,null,null);t["default"]=Oe.exports},"29ac":function(e,t,a){"use strict";a("84ab")},3399:function(e,t,a){var r=a("0c3a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("60eb11da",r,!0,{sourceMap:!1,shadowMode:!1})},3901:function(e,t,a){var r=a("7c48");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("e9776354",r,!0,{sourceMap:!1,shadowMode:!1})},"4b22":function(e,t,a){var r=a("5f35");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("6227f2a3",r,!0,{sourceMap:!1,shadowMode:!1})},"4ca7":function(e,t,a){"use strict";a("3399")},"5f35":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-308e9796]:after,.clearfix[data-v-308e9796]:before{content:" ";display:table}.clearfix[data-v-308e9796]:after{clear:both}.list-unstyled[data-v-308e9796]{margin:0;padding:0;list-style-type:none}.no-select[data-v-308e9796]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-308e9796]{resize:none}.hand[data-v-308e9796]{cursor:pointer;cursor:hand}.fixed[data-v-308e9796]{table-layout:fixed}.clip[data-v-308e9796]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-308e9796],.force-wrap[data-v-308e9796]{word-wrap:break-word}.force-wrap[data-v-308e9796]{white-space:normal}.bordered-section[data-v-308e9796]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-308e9796]{margin-bottom:20px;margin-top:20px}.close[data-v-308e9796]{top:10px;right:10px;padding:0;position:absolute}.disk[data-v-308e9796]{position:relative}.disk .secret-name[data-v-308e9796]{height:61px}.disk[data-v-308e9796]:not(:last-of-type){padding-bottom:10px;margin-bottom:30px}.flex[data-v-308e9796]{display:flex;justify-content:space-between}.badge-state[data-v-308e9796]{padding:2px 5px}',""]),e.exports=t},6934:function(e,t,a){var r=a("2456");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("0e38866b",r,!0,{sourceMap:!1,shadowMode:!1})},"6af9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tabbed",e._b({staticClass:"mt-15",attrs:{"side-tabs":!0}},"Tabbed",e.$attrs,!1),[a("Tab",{staticClass:"bordered-table",attrs:{name:"detail",label:e.t("harvester.virtualMachine.detail.tabs.basics")}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[e.isUpload?a("LabelValue",{staticClass:"mb-20",attrs:{name:e.t("harvester.image.fileName"),value:e.imageName}}):a("LabelValue",{staticClass:"mb-20",attrs:{name:e.t("harvester.image.url"),value:e.url},scopedSlots:e._u([{key:"value",fn:function(){return["-"!==e.url?a("div",[a("CopyToClipboardText",{attrs:{text:e.url}})],1):a("div",[e._v(" "+e._s(e.url)+" ")])]},proxy:!0}])})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("LabelValue",{staticClass:"mb-20",attrs:{name:e.t("harvester.image.size"),value:e.formattedValue}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("LabelValue",{staticClass:"mb-20",attrs:{name:e.t("nameNsDescription.description.label"),value:e.description}})],1)]),"-"!==e.errorMessage?a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("div",[e._v(" "+e._s(e.t("tableHeaders.message"))+" ")]),a("div",{class:{error:"-"!==e.errorMessage}},[e._v(" "+e._s(e.errorMessage)+" ")])])]):e._e()])],1)},s=[],n=a("9651"),i=a("eb32"),o=a("b0bd"),l=a("ad61"),c=a("5ef9"),d=a("e411"),u=a("1832"),v={components:{CopyToClipboardText:n["a"],Tab:c["a"],Tabbed:l["a"],LabelValue:i["a"]},props:{value:{type:Object,required:!0}},data:function(){return{}},computed:{formattedValue:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.downSize},url:function(){var e,t;return(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.url)||"-"},description:function(){var e,t,a;return(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t||null===(a=t.annotations)||void 0===a?void 0:a[o["e"]])||"-"},errorMessage:function(){var e,t=Object(u["g"])(this.value,"status.conditions");return(null===(e=Object(d["e"])(t,"type","Imported"))||void 0===e?void 0:e.message)||"-"},isUpload:function(){var e,t;return"upload"===(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.sourceType)},imageName:function(){var e,t,a;return(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t||null===(a=t.annotations)||void 0===a?void 0:a[o["f"].IMAGE_NAME])||"-"}}},p=v,m=(a("29ac"),a("d802")),f=Object(m["a"])(p,r,s,!1,null,"2bd7f102",null);t["default"]=f.exports},"6da5":function(e,t,a){var r=a("c735");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("44bc458e",r,!0,{sourceMap:!1,shadowMode:!1})},"7c48":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-27f9513c]:after,.clearfix[data-v-27f9513c]:before{content:" ";display:table}.clearfix[data-v-27f9513c]:after{clear:both}.list-unstyled[data-v-27f9513c]{margin:0;padding:0;list-style-type:none}.no-select[data-v-27f9513c]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-27f9513c]{resize:none}.hand[data-v-27f9513c]{cursor:pointer;cursor:hand}.fixed[data-v-27f9513c]{table-layout:fixed}.clip[data-v-27f9513c]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-27f9513c],.force-wrap[data-v-27f9513c]{word-wrap:break-word}.force-wrap[data-v-27f9513c]{white-space:normal}.bordered-section[data-v-27f9513c]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-27f9513c]{margin-bottom:20px;margin-top:20px}.overview-sshKeys[data-v-27f9513c]{text-align:left;max-height:700px;overflow:auto}.overview-sshKeys__item[data-v-27f9513c]{margin-bottom:15px}.overview-sshKeys__item[data-v-27f9513c]:last-child{margin-bottom:0}.overview-sshKeys .key-display[data-v-27f9513c]{position:relative;padding-right:30px;word-break:break-word}.overview-sshKeys .key-display .hide-bar[data-v-27f9513c]{position:absolute;top:-10px;right:10px}',""]),e.exports=t},"7f5e":function(e,t,a){"use strict";a("6da5")},8119:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tabbed",e._b({staticClass:"mt-15",attrs:{"side-tabs":!0},on:{changed:e.onTabChanged}},"Tabbed",e.$attrs,!1),[a("Tab",{staticClass:"bordered-table",attrs:{name:"basics",label:e.t("harvester.virtualMachine.detail.tabs.basics"),weight:7}},[a("OverviewBasics",{attrs:{resource:e.vmi,mode:"view"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"disks",label:e.t("harvester.tab.volume"),weight:6}},[a("Volume",{attrs:{mode:"view",namespace:e.value.metadata.namespace,vm:e.value,"resource-type":e.value.type},model:{value:e.diskRows,callback:function(t){e.diskRows=t},expression:"diskRows"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"networks",label:e.t("harvester.virtualMachine.detail.tabs.networks"),weight:5}},[a("Network",{attrs:{mode:"view"},model:{value:e.networkRows,callback:function(t){e.networkRows=t},expression:"networkRows"}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"keypairs",label:e.t("harvester.virtualMachine.detail.tabs.keypairs"),weight:3}},[a("OverviewKeypairs",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e.showVmMetrics?a("Tab",{attrs:{name:"vm-metrics",label:e.t("harvester.virtualMachine.detail.tabs.metrics"),weight:2.5},scopedSlots:e._u([{key:"default",fn:function(t){return[t.active?a("DashboardMetrics",{attrs:{"detail-url":e.VM_METRICS_DETAIL_URL,"graph-height":"550px","has-summary-and-detail":!1,vars:e.graphVars}}):e._e()]}}],null,!1,4264103987)}):e._e(),a("Tab",{staticClass:"bordered-table",attrs:{label:e.t("harvester.tab.accessCredentials"),name:"accessCredentials",weight:2.2}},[a("AccessCredentials",{attrs:{mode:"view",value:e.accessCredentials,resource:e.value}})],1),a("Tab",{staticClass:"bordered-table",attrs:{name:"cloudConfig",label:e.t("harvester.virtualMachine.detail.tabs.cloudConfig"),weight:2}},[a("CloudConfig",{ref:"yamlEditor",attrs:{mode:"view","user-script":e.userScript,"network-script":e.networkScript}})],1),a("Tab",{attrs:{name:"event",label:e.t("harvester.virtualMachine.detail.tabs.events"),weight:1}},[a("Events",{attrs:{resource:e.vmi,events:e.events}})],1),a("Tab",{attrs:{name:"migration",label:e.t("harvester.virtualMachine.detail.tabs.migration")}},[a("Migration",{attrs:{"vmi-resource":e.vmi},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1)},s=[],n=a("56d4"),i=a.n(n),o=a("9ce4"),l=a("ad61"),c=a("5ef9"),d=a("56a4"),u=a("c78c"),v=a("6834"),p=a("1828"),m=a("b837"),f=a("4543"),b=a("7cac"),h=a("89d4"),w=a("5d46"),y=a("7856"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SortableTable",{attrs:{rows:e.events,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},scopedSlots:e._u([{key:"cell:resource",fn:function(t){var r=t.row,s=t.value;return[a("div",{staticClass:"text-info"},[e._v(" "+e._s(s)+" ")]),r.message?a("div",[e._v(" "+e._s(r.displayMessage)+" ")]):e._e()]}}])})},k=[],O=a("d6d1"),C=a("fc28");function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var M={name:"VirtualMachineEvents",components:{SortableTable:C["b"]},props:{events:{type:Array,required:!0}},data:function(){var e=_(_({},O["w"]),{},{canBeVariable:!0,width:180}),t=[e,{name:"resource",label:"Resource",labelKey:"clusterIndexPage.sections.events.resource.label",value:"displayInvolvedObject",sort:["involvedObject.kind","involvedObject.name"],canBeVariable:!0},{align:"right",name:"date",label:"Date",labelKey:"clusterIndexPage.sections.events.date.label",value:"lastTimestamp",sort:"lastTimestamp:desc",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125,defaultSort:!0}];return{eventHeaders:t}}},j=M,N=a("d802"),T=Object(N["a"])(j,g,k,!1,null,null,null),D=T.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.sourceNode"),value:e.sourceNode}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.targetNode"),value:e.targetNode}})],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.started"),value:e.started}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.ended"),value:e.ended}})],1)])])},P=[],V=a("eb32"),L={name:"VirtualMachineMigration",components:{LabelValue:V["a"]},props:{value:{type:Object,required:!0},vmiResource:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{localResource:this.vmiResource}},computed:{migrationState:function(){var e,t;return null===(e=this.localResource)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.migrationState},sourceNode:function(){var e;return(null===(e=this.migrationState)||void 0===e?void 0:e.sourceNode)||"N/A"},targetNode:function(){var e;return(null===(e=this.migrationState)||void 0===e?void 0:e.targetNode)||"N/A"},started:function(){var e;return(null===(e=this.migrationState)||void 0===e?void 0:e.startTimestamp)||"N/A"},ended:function(){var e;return(null===(e=this.migrationState)||void 0===e?void 0:e.endTimestamp)||"N/A"},message:function(){return"N/A"}},watch:{vmiResource:{handler:function(e){this.localResource=e},deep:!0}}},$=L,R=Object(N["a"])($,E,P,!1,null,null,null),A=R.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overview-basics"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.name"),value:e.value.nameDisplay},scopedSlots:e._u([{key:"value",fn:function(){return[a("div",{staticClass:"smart-row"},[a("div",{staticClass:"console"},[e._v(" "+e._s(e.value.nameDisplay)+" "),a("VMConsoleBar",{staticClass:"consoleBut",attrs:{resource:e.value}})],1)])]},proxy:!0}])})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.fields.image"),value:e.imageName}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.hostname"),value:e.hostname},scopedSlots:e._u([{key:"value",fn:function(){return[e.isDown?a("div",[e._v(" "+e._s(e.t("harvester.virtualMachine.detail.details.down"))+" ")]):a("div",[e._v(" "+e._s(e.hostname||e.t("harvester.virtualMachine.detail.GuestAgentNotInstalled"))+" ")])]},proxy:!0}])})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.node"),value:e.node},scopedSlots:e._u([{key:"value",fn:function(){return[e.isDown?a("div",[e._v(" "+e._s(e.t("harvester.virtualMachine.detail.details.down"))+" ")]):a("div",[e._v(" "+e._s(e.node)+" ")])]},proxy:!0}])})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.ipAddress")},scopedSlots:e._u([{key:"value",fn:function(){return[a("HarvesterIpAddress",{attrs:{row:e.value},model:{value:e.value.id,callback:function(t){e.$set(e.value,"id",t)},expression:"value.id"}})]},proxy:!0}])})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.created"),value:e.creationTimestamp}})],1)]),a("hr",{staticClass:"section-divider"}),a("h2",[e._v(e._s(e.t("harvester.virtualMachine.detail.tabs.configurations")))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.detail.details.bootOrder"),value:e.disks,mode:e.mode},scopedSlots:e._u([{key:"value",fn:function(){return[a("ul",e._l(e.disks,(function(t){return a("li",{key:t.bootOrder},[e._v(" "+e._s(t.bootOrder)+". "+e._s(t.name)+" ("+e._s(e.getDeviceType(t))+") ")])})),0)]},proxy:!0}])})],1),a("div",{staticClass:"col span-6"},[a("InputOrDisplay",{attrs:{name:e.t("harvester.virtualMachine.detail.details.CDROMs"),value:e.cdroms,mode:e.mode},scopedSlots:e._u([{key:"value",fn:function(){return[a("div",[e.cdroms.length>0?a("ul",e._l(e.cdroms,(function(t){return a("li",{key:t.name},[e._v(" "+e._s(t.name)+" ")])})),0):a("span",[e._v(" "+e._s(e.t("harvester.virtualMachine.detail.notAvailable"))+" ")])])]},proxy:!0}])})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.operatingSystem"),value:e.operatingSystem||e.t("harvester.virtualMachine.detail.GuestAgentNotInstalled")}})],1),a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.flavor"),value:e.flavor}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.detail.details.kernelRelease"),value:e.kernelRelease||e.t("harvester.virtualMachine.detail.GuestAgentNotInstalled")}})],1),a("div",{staticClass:"col span-6"},[a("LabelValue",{attrs:{name:e.t("harvester.virtualMachine.input.MachineType"),value:e.machineType}})],1)])])},K=[],U=a("7b0c"),H=a("73e2"),B=a("2aaa"),z="n/a",q={name:"Details",components:{VMConsoleBar:H["a"],HarvesterIpAddress:U["default"],LabelValue:V["a"],InputOrDisplay:B["a"]},mixins:[u["a"]],props:{value:{type:Object,required:!0},resource:{type:Object,required:!0,default:function(){return{}}},mode:{type:String,required:!0}},computed:{creationTimestamp:function(){var e,t,a=new Date(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.creationTimestamp);return a.getMonth?"".concat(a.getMonth()+1,"/").concat(a.getDate(),"/").concat(a.getUTCFullYear()):z},node:function(){var e,t;return(null===(e=this.resource)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.nodeName)||z},hostname:function(){var e,t,a,r,s;return(null===(e=this.resource)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.hostname)||(null===(a=this.resource)||void 0===a||null===(r=a.status)||void 0===r||null===(s=r.guestOSInfo)||void 0===s?void 0:s.hostname)},imageName:function(){var e,t=this,a=this.$store.getters["harvester/all"](d["h"].IMAGE)||[],r=a.find((function(e){return t.value.rootImageId===e.id}));return(null===r||void 0===r||null===(e=r.spec)||void 0===e?void 0:e.displayName)||"N/A"},disks:function(){var e,t,a,r,s,n,i=(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.spec)||void 0===r||null===(s=r.domain)||void 0===s||null===(n=s.devices)||void 0===n?void 0:n.disks)||[];return i.filter((function(e){return!!e.bootOrder})).sort((function(e,t){return e.bootOrder<t.bootOrder?-1:1}))},cdroms:function(){var e,t,a,r,s,n,i=(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.spec)||void 0===r||null===(s=r.domain)||void 0===s||null===(n=s.devices)||void 0===n?void 0:n.disks)||[];return i.filter((function(e){return!!e.cdrom}))},flavor:function(){var e,t,a,r,s,n,i,o=null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.spec)||void 0===r?void 0:r.domain;return"".concat(null===(s=o.cpu)||void 0===s?void 0:s.cores," vCPU , ").concat(null===(n=o.resources)||void 0===n||null===(i=n.limits)||void 0===i?void 0:i.memory," ").concat(this.t("harvester.virtualMachine.input.memory"))},kernelRelease:function(){var e,t,a;return null===(e=this.resource)||void 0===e||null===(t=e.status)||void 0===t||null===(a=t.guestOSInfo)||void 0===a?void 0:a.kernelRelease},operatingSystem:function(){var e,t,a;return null===(e=this.resource)||void 0===e||null===(t=e.status)||void 0===t||null===(a=t.guestOSInfo)||void 0===a?void 0:a.prettyName},isDown:function(){return this.isEmpty(this.resource)},machineType:function(){var e,t,a,r,s,n;return(null===(e=this.value)||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(r=a.spec)||void 0===r||null===(s=r.domain)||void 0===s||null===(n=s.machine)||void 0===n?void 0:n.type)||void 0}},methods:{getDeviceType:function(e){return e.disk?"Disk":"CD-ROM"},isEmpty:function(e){return void 0!==e&&0===Object.keys(e).length}}},F=q,G=(a("7f5e"),Object(N["a"])(F,I,K,!1,null,"f6159cec",null)),W=G.exports,J=a("f3f4");function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){X(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function X(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Z(e,t,a,r,s,n,i){try{var o=e[n](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,s)}function ee(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var n=e.apply(t,a);function i(e){Z(n,r,s,i,o,"next",e)}function o(e){Z(n,r,s,i,o,"throw",e)}i(void 0)}))}}var te="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/harvester-vm-detail-1/vm-info-detail?orgId=1",ae={name:"VMIDetailsPage",components:{Tab:c["a"],Tabbed:l["a"],Events:D,OverviewBasics:W,Volume:h["a"],Network:w["a"],OverviewKeypairs:J["a"],CloudConfig:b["a"],Migration:A,DashboardMetrics:p["a"],AccessCredentials:y["a"]},mixins:[u["a"],v["c"]],props:{value:{type:Object,required:!0}},data:function(){return{switchToCloud:!1,VM_METRICS_DETAIL_URL:te,showVmMetrics:!1}},created:function(){var e=this;return ee(i.a.mark((function t(){var a,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.getters["currentProduct"].inStore,r={pods:e.$store.dispatch("".concat(a,"/findAll"),{type:d["v"]}),services:e.$store.dispatch("".concat(a,"/findAll"),{type:d["C"]}),events:e.$store.dispatch("".concat(a,"/findAll"),{type:d["f"]}),allSSHs:e.$store.dispatch("".concat(a,"/findAll"),{type:d["h"].SSH}),vmis:e.$store.dispatch("".concat(a,"/findAll"),{type:d["h"].VMI}),restore:e.$store.dispatch("".concat(a,"/findAll"),{type:d["h"].RESTORE})},t.next=4,Object(m["a"])(r);case 4:return t.next=6,Object(f["a"])(e.$store,e.currentCluster.id,[te],"harvester");case 6:e.showVmMetrics=t.sent;case 7:case"end":return t.stop()}}),t)})))()},computed:Q(Q({},Object(o["a"])(["currentCluster"])),{},{vmi:function(){var e=this,t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters["".concat(t,"/all")](d["h"].VMI)||[],r=a.find((function(t){var a,r,s,n,i;return(null===t||void 0===t||null===(a=t.metadata)||void 0===a||null===(r=a.ownerReferences)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.uid)===(null===(n=e.value)||void 0===n||null===(i=n.metadata)||void 0===i?void 0:i.uid)}));return r},allEvents:function(){var e=this.$store.getters["currentProduct"].inStore;return this.$store.getters["".concat(e,"/all")](d["f"])},events:function(){var e=this;return this.allEvents.filter((function(t){var a,r,s,n,i=(null===(a=e.value)||void 0===a?void 0:a.metadata)||{},o=i.name,l=i.creationTimestamp,c=null===(r=e.value.podResource)||void 0===r||null===(s=r.metadata)||void 0===s?void 0:s.name,d=e.value.persistentVolumeClaimName||[],u=null===t||void 0===t||null===(n=t.involvedObject)||void 0===n?void 0:n.name,v=d.find((function(e){return e===u}));return(u===o||u===c||v)&&t.firstTimestamp>=l})).sort((function(e,t){return e.lastTimestamp>t.lastTimestamp?-1:1}))},graphVars:function(){return{namespace:this.value.namespace,vm:this.value.name}},hasMetrics:function(){var e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters["".concat(e,"/byId")]("service","cattle-monitoring-system/rancher-monitoring-grafana")}}),methods:{onTabChanged:function(e){var t,a=e.tab;"cloudConfig"===a.name&&(null===(t=this.$refs.yamlEditor)||void 0===t||t.refresh())}},watch:{value:{handler:function(e){var t=this.getDiskRows(e);this.$set(this,"diskRows",t)},deep:!0}}},re=ae,se=Object(N["a"])(re,r,s,!1,null,null,null);t["default"]=se.exports},"84ab":function(e,t,a){var r=a("04ae");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("e223e8ae",r,!0,{sourceMap:!1,shadowMode:!1})},"86fe":function(e,t,a){"use strict";a("6934")},"93df":function(e,t,a){"use strict";a("3901")},c735:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-f6159cec]:after,.clearfix[data-v-f6159cec]:before{content:" ";display:table}.clearfix[data-v-f6159cec]:after{clear:both}.list-unstyled[data-v-f6159cec]{margin:0;padding:0;list-style-type:none}.no-select[data-v-f6159cec]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-resize[data-v-f6159cec]{resize:none}.hand[data-v-f6159cec]{cursor:pointer;cursor:hand}.fixed[data-v-f6159cec]{table-layout:fixed}.clip[data-v-f6159cec]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-f6159cec],.force-wrap[data-v-f6159cec]{word-wrap:break-word}.force-wrap[data-v-f6159cec]{white-space:normal}.bordered-section[data-v-f6159cec]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-f6159cec]{margin-bottom:20px;margin-top:20px}.consoleBut[data-v-f6159cec]{position:relative;top:-20px;left:38px}.overview-basics[data-v-f6159cec]{display:grid;grid-template-columns:100%;grid-template-rows:auto;grid-row-gap:15px}.overview-basics .badge-state[data-v-f6159cec]{padding:2px 5px;font-size:12px;margin-right:3px}.overview-basics .smart-row[data-v-f6159cec]{display:flex;flex-direction:row}.overview-basics .smart-row .console[data-v-f6159cec]{display:flex}.overview-basics__name[data-v-f6159cec]{flex:1}.overview-basics__ssh-key[data-v-f6159cec]{min-width:150px}',""]),e.exports=t},f3b5:function(e,t,a){"use strict";a("4b22")},f3f4:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overview-sshKeys"},e._l(e.sshKeys,(function(t,r){return a("div",{key:r,staticClass:"row overview-sshKeys__item"},[a("div",{staticClass:"col span-4"},[e._v(" "+e._s(t.id)+" ")]),a("div",{staticClass:"col span-7 offset-1"},[t.showKey?a("div",{staticClass:"key-display"},[e._v(" "+e._s(t.publicKey)+" "),a("button",{staticClass:"btn btn-sm role-link hide-bar",on:{click:function(t){return e.toggleShow(r)}}},[a("i",{staticClass:"icon icon-x"})])]):a("button",{staticClass:"btn btn-sm role-link",on:{click:function(t){return e.toggleShow(r)}}},[e._v(" *******"),a("i",{staticClass:"icons icon-show"})])])])})),0)},s=[],n=a("56d4"),i=a.n(n),o=a("9c38"),l=a.n(o),c=a("56a4"),d=a("b837"),u=a("4b06");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e,t,a,r,s,n,i){try{var o=e[n](i),l=o.value}catch(c){return void a(c)}o.done?t(l):Promise.resolve(l).then(r,s)}function b(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var n=e.apply(t,a);function i(e){f(n,r,s,i,o,"next",e)}function o(e){f(n,r,s,i,o,"throw",e)}i(void 0)}))}}var h={mixins:[u["c"]],props:{value:{type:Object,required:!0}},fetch:function(){var e=this;return b(i.a.mark((function t(){var a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["a"])({allSSHs:e.$store.dispatch("harvester/findAll",{type:c["h"].SSH})});case 2:a=t.sent,e.allSSHs=a.allSSHs;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{allSSHs:[],sshKeys:[]}},methods:{toggleShow:function(e){var t=this.sshKeys[e];this.$set(this.sshKeys,e,p(p({},t),{},{showKey:!t.showKey}))},getKeys:function(){var e;return this.mergeAllSSHs(null===(e=this.value)||void 0===e?void 0:e.spec)},isShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.sshKeys.find((function(t){var a;return(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id)===e}))||{};return t.showKey||!1}},watch:{allSSHs:function(e){var t=this,a=this.getKeys().map((function(e){var a,r;return{id:e.id,publicKey:l()(e.data)?e.data:null===(a=e.data)||void 0===a||null===(r=a.spec)||void 0===r?void 0:r.publicKey,showKey:t.isShow(e.id)}}));this.$set(this,"sshKeys",a)}}},w=h,y=(a("93df"),a("d802")),g=Object(y["a"])(w,r,s,!1,null,"27f9513c",null);t["a"]=g.exports}}]);
//# sourceMappingURL=harvester-0.3.0.umd.min.detail.js.map